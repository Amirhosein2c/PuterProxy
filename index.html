<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Puter AI Proxy</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1e1e1e;
            color: #00ff00;
        }
        #result {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <div id="result">‚è≥ Processing your request...</div>
    
    <!-- <script src="https://js.puter.com/v2/"></script>
    <script>
        // Get parameters from URL
        const params = new URLSearchParams(window.location.search);
        const prompt = params.get('prompt') || 'What do you see in this image?';
        const imageUrl = params.get('imageUrl');
        const model = params.get('model') || 'qwen/qwen3-14b';
        
        // Validate inputs
        if (!imageUrl) {
            document.getElementById('result').innerHTML = JSON.stringify({
                success: false,
                error: 'Missing imageUrl parameter'
            }, null, 2);
        } else {
            // Call Puter AI
            puter.ai.chat(prompt, imageUrl, { model })
                .then(response => {
                    // Output as JSON for n8n to parse
                    document.getElementById('result').innerHTML = JSON.stringify({
                        success: true,
                        prompt: prompt,
                        imageUrl: imageUrl,
                        model: model,
                        response: response
                    }, null, 2);
                })
                .catch(error => {
                    document.getElementById('result').innerHTML = JSON.stringify({
                        success: false,
                        error: error.message,
                        prompt: prompt,
                        imageUrl: imageUrl,
                        model: model
                    }, null, 2);
                });
        }
    </script> -->

<script src="https://js.puter.com/v2/"></script>
    <script>
        puter.ai.chat(
            "What do you see in this image?",
            "https://assets.puter.site/doge.jpeg",
            { model: 'qwen/qwen3-14b' }
        ).then(response => {
            document.write(response);
        });
    </script>
    
</body>
</html>
